import{r as p,d as T,u as V,w as M,o as N,a as m,c as _,b as o,e as k,f as P,g as j,T as A,h as r,i as y,v as x,j as h,k as $,l as S,n as z,F as w,m as B,t as U,p as L,q as Y}from"./index-e23b484c.js";function C(f=16,c=4){const n=p([]),t=p([]);return{initial:()=>{for(let e=0;e<f;e++)t.value[e]=e;return n.value=[...t.value].sort(()=>Math.random()-.5),n.value},swapTile:e=>{const a=n.value.indexOf(0),b=a+1===e||a-1===e,d=a+c===e||a-c===e,l=e%c===0&&(a+1)%c===0,g=(e+1)%c===0&&a%c===0;(b||d)&&!(l||g)&&(n.value[e]=n.value.splice(a,1,n.value[e])[0])},currectTile:(e,a)=>a+1===e,solved:()=>Array.isArray(n.value)&&Array.isArray(t.value)&&n.value.length===t.value.length&&n.value.every((e,a)=>n.value.length-1!==a?e===t.value[a+1]:!0)}}const D={key:0,"font-bold":"","text-xl":"","p-4":"","bg-purple-500":"",rounded:"","text-white":"","mb-4":"",class:"shake"},E=["onClick"],F={key:0,"text-3xl":"","font-bold":"","text-gray-500":"","dark:text-gray-400":"","select-none":""},G={"mt-4":"",flex:"","justify-center":"","gap-3":"","flex-wrap":"","items-center":""},R={flex:"","items-center":"","gap-2":"","w-36":""},X=r("option",{value:1}," Small ",-1),Z=r("option",{value:2}," Medium ",-1),q=r("option",{value:3}," large ",-1),I=r("option",{value:4}," XLarge ",-1),O=[X,Z,q,I],W=T({__name:"Puzzle",props:{uuid:{type:Number}},emits:["close"],setup(f,{emit:c}){const n=f;V(b=>({"6ba8130e":o(s),"6f11c44c":o(t)}));const t=p(4),s=p(4),u=p(2),v=p([]),i=p(C(t.value*s.value,s.value)),e=()=>v.value=i.value.initial(),a=()=>{if(u.value===1)return"!w-10 !h-10";if(u.value===2)return"!w-16 !h-16";if(u.value===3)return"!w-24 !h-24";if(u.value===4)return"!w-32 !h-32"};return M(()=>[t.value,s.value],()=>{t.value&&s.value&&(t.value>30&&(t.value=30),s.value>30&&(s.value=30),i.value=C(t.value*s.value,s.value),e())},{deep:!0}),N(()=>{e()}),(b,d)=>(m(),_("div",{flex:"","flex-col":"","justify-center":"","items-center":"","mt-8":"",border:"","p-6":"","shadow-lg":"",class:z({"bg-purple-200":o(i).solved()})},[o(i).solved()?(m(),_("div",D," You WIN Buddy, and You are going to be Crazy about this alert ")):k("",!0),P(A,{tag:"div",grid:"","w-max":"","max-w-full":"","gap-0.5":"",class:"tiles_grid",name:"tile"},{default:j(()=>[(m(!0),_(w,null,B(o(v),(l,g)=>(m(),_("div",{key:l,flex:"","items-center":"","justify-center":"",border:"","dark:border-gray-700":"",class:z(["tile",[a(),{"cursor-pointer":l&&!o(i).solved()},{"bg-gray-100 dark:bg-gray-800":!l},{"bg-sky-100 dark:bg-sky-900 border-sky-500":o(i).currectTile(l,g)}]]),onClick:J=>l&&!o(i).solved()?o(i).swapTile(g):""},[l?(m(),_("span",F,U(l),1)):k("",!0)],10,E))),128))]),_:1}),r("div",G,[r("div",R,[y(r("input",{"onUpdate:modelValue":d[0]||(d[0]=l=>h(t)?t.value=l:null),"input-n":"",type:"number",placeholder:"X"},null,512),[[x,o(t)]]),$(" x "),y(r("input",{"onUpdate:modelValue":d[1]||(d[1]=l=>h(s)?s.value=l:null),"input-n":"",type:"number",placeholder:"Y"},null,512),[[x,o(s)]])]),r("button",{btn:"","btn-primary":"","i-carbon:reset":"",onClick:e}),r("button",{"btn-icon":"","btn-danger":"","i-carbon:trash-can":"",onClick:d[2]||(d[2]=l=>c("close",n.uuid))}),y(r("select",{id:"tile","onUpdate:modelValue":d[3]||(d[3]=l=>h(u)?u.value=l:null),"select-n":"","w-max":""},O,512),[[S,o(u)]])])],2))}});const H={"mt-8":"",flex:"","justify-center":"","gap-3":"","flex-wrap":"","items-center":""},Q=T({__name:"index",setup(f){const c=Y(),n=p([Math.random()]),t=()=>{n.value.push(Math.random())},s=u=>{n.value=n.value.filter(v=>v!==u)};return(u,v)=>{const i=W;return m(),_(w,null,[(m(!0),_(w,null,B(o(n),e=>(m(),L(i,{key:e,uuid:e,onClose:s},null,8,["uuid"]))),128)),r("div",H,[r("button",{btn:"","btn-primary":"",onClick:t}," Add New Board "),r("button",{btn:"","btn-danger":"",onClick:v[0]||(v[0]=e=>o(c).push("/"))}," Close The Game ")])],64)}}});export{Q as default};
